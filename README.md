# 基于OpenWRT在Azure上搭建VPN站点实现科学上网全记录

本文将围绕OpenWRT，通过在Azure上的VM，与家里的路由器建立VPN隧道，从而实现自动路由，国内国外访问分离。以及不在家时通过移动端，手机或笔记本电脑与家里建立VPN连接实现网络互联互通的目标。  

我将尽量详细的说明和记录各个环节和可能会遇到的坑和解决方法。但也需要你具备以下IT方面的基础知识。  
1. Linux系统基础知识
2. 虚拟机
3. 网络基础知识，包括TCP/IP协议，DNS，路由，防火墙等基础知识。 

## 目标
1. 家里网络实现国内国外访问路由分离，使国内访问走国内路由，国外访问走特定线路以实现网络访问的速度和相应最优化。
2. 手机端同样利用已建立的VPN实现访问优化
3. 实现DNS分流，优化DNS解析，实现安全、无污染的DNS解析

## 目录

- 整体网络设计和架构
- 为何选择IPSEC协议？
- 创建Azure VM
  - VHD虚拟磁盘制作
  - Azure VM新建
- OpenWRT基本设置，应用安装
- Strongswan设置
- mosdns设置
